
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Lucid Coding</title>
	<meta name="author" content="Manuel Neuhauser">

	
	<meta name="description" content="The asterisk operator commonly known as splat can be a powerful ally in writing clean and highly functional code. The splat operator has a variety &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Lucid Coding" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Lucid Coding</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:manu3569.github.io">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
		<a class="github" href="https://github.com/manu3569" title="GitHub">GitHub</a>
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:manu3569.github.io">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/08/what-the-splat/">
		
			What the Splat?</a>
	</h2>
	<div class="entry-content">
		<p>The asterisk operator commonly known as splat can be a powerful ally in writing clean and highly functional code.  The splat operator has a variety of behaviors depending on where it is used, and in this post I&rsquo;ll focus on the use of splat in conjunction with methods in Ruby 1.9 and later.</p>

<br/>


<h3>Arbitrary Argument Length in Method Signature</h3>

<p>Occasionally, we would like to define a method that will accept an undefined number of argument.  Typically, we use an optional <code>Hash</code> as the last argument, which holds a variety of arguments.  However, we can also take advantage of the splat operator by placing it in front of an argument variable name in the method definition.  It will cause the argument variable to capture an <code>Array</code> of all arguments passed to the function that have not been matched to other arguments in the method signature.  The splat operator can be used at the beginning or at the end of the argument list, though for the latter, the last argument that is passed into the function must be a <code>Hash</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">add_to</span><span class="p">(</span><span class="n">playlist</span><span class="p">,</span> <span class="o">*</span><span class="n">songs</span><span class="p">)</span>
</span><span class='line'>  <span class="n">songs</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">song</span><span class="o">|</span>
</span><span class='line'>    <span class="n">playlist</span> <span class="o">&lt;&lt;</span> <span class="n">song</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">rock</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'><span class="n">add_to</span><span class="p">(</span><span class="n">rock</span><span class="p">,</span> <span class="s2">&quot;Beatles - Yellow Submarine&quot;</span><span class="p">,</span> <span class="s2">&quot;Counting Crows - Big Yellow Taxi&quot;</span><span class="p">,</span> <span class="s2">&quot;Coldplay - Yellow&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">rock</span><span class="o">.</span><span class="n">inspect</span>
</span><span class='line'> <span class="c1">#=&gt; &quot;[&quot;Beatles - Yellow Submarine&quot;, &quot;Counting Crows - Big Yellow Taxi&quot;, &quot;Coldplay - Yellow&quot;]&quot; </span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">display_songs</span><span class="p">(</span><span class="o">*</span><span class="n">songs</span><span class="p">,</span> <span class="n">formatting</span><span class="p">)</span>
</span><span class='line'>  <span class="n">songs</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">song</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">formatting</span><span class="o">[</span><span class="ss">:start</span><span class="o">]</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">song</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">formatting</span><span class="o">[</span><span class="ss">:end</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">display_songs</span><span class="p">(</span><span class="s2">&quot;Stairway to Heaven&quot;</span><span class="p">,</span> <span class="s2">&quot;Hotel California&quot;</span><span class="p">,</span> <span class="s2">&quot;Hold the Line&quot;</span><span class="p">,</span> <span class="p">{</span><span class="ss">:start</span> <span class="o">=&gt;</span> <span class="s2">&quot;&gt;&gt;&gt;&quot;</span><span class="p">,</span> <span class="ss">:end</span> <span class="o">=&gt;</span> <span class="s2">&quot;&lt;&lt;&lt;&quot;</span><span class="p">})</span>
</span><span class='line'> <span class="c1"># &gt;&gt;&gt; Stairway to Heaven &lt;&lt;&lt;</span>
</span><span class='line'> <span class="c1"># &gt;&gt;&gt; Hotel California &lt;&lt;&lt;</span>
</span><span class='line'> <span class="c1"># &gt;&gt;&gt; Hold the Line &lt;&lt;&lt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>There is one more &mdash;for the lack of a better word&mdash; <em>interesting</em> use of the splat operator in the method signature at the end when it&rsquo;s by itself.  It allows for additional arguments to be accepted, but ignored by the method.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">my_favorite_food</span><span class="p">(</span><span class="n">first</span><span class="p">,</span><span class="n">second</span><span class="p">,</span><span class="o">*</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;My favorite food items are </span><span class="si">#{</span><span class="n">first</span><span class="si">}</span><span class="s2"> and </span><span class="si">#{</span><span class="n">second</span><span class="si">}</span><span class="s2">.&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">my_favorite_food</span><span class="p">(</span><span class="s2">&quot;pizza&quot;</span><span class="p">,</span><span class="s2">&quot;sushi&quot;</span><span class="p">,</span><span class="s2">&quot;salad&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="c1">#=&gt; My favorite food items are pizza and sushi.</span>
</span></code></pre></td></tr></table></div></figure>




<br/>


<br/>


<h3>Calling Methods</h3>

<p>The reason for this blog entry is actually this section.  I recently worked on a project in which I wanted to use <code>Object#send</code> to dynamically call an instance method. The method <code>#play</code> takes an argument, while <code>#list</code> doesn&rsquo;t. I quickly ran into a problem with this particular code:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">play</span><span class="p">(</span><span class="n">song</span><span class="p">)</span>
</span><span class='line'>  <span class="c1"># code to play given song</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">list</span>
</span><span class='line'>  <span class="c1"># code to display all songs</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</span><span class='line'>  <span class="n">command</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">input</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="n">args</span><span class="o">.</span><span class="n">inspect</span>
</span><span class='line'>  <span class="nb">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">process</span><span class="p">(</span><span class="s2">&quot;play Michael Jackson - Beat It&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="c1">#=&gt; nil </span>
</span><span class='line'>
</span><span class='line'><span class="n">process</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="c1">#ArgumentError: wrong number of arguments (1 for 0)</span>
</span><span class='line'> <span class="c1"># from (irb):32:in `list&#39;</span>
</span><span class='line'> <span class="c1"># from (irb):38:in `process&#39;</span>
</span></code></pre></td></tr></table></div></figure>


<p>When processing the input &ldquo;list&rdquo;, <code>args</code> is set to <code>nil</code>, which is still considered an argument and it triggers an <code>ArgumentError</code> because <code>#list</code> does not take any arguments.</p>

<p>Our little friend splat can actually help us resolve this issue.  When calling a method and prepending the splat to an array variable, it will cause it to be distributed across the arguments of the method.  In my case, the empty <code>args</code> variable was distributed across exactly no arguments.  By adding the splat, we can now dynamically send either one or two arguments to the <code>#send</code> function.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">process</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</span><span class='line'>  <span class="n">command</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">input</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="n">args</span><span class="o">.</span><span class="n">class</span>
</span><span class='line'>  <span class="nb">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">process</span><span class="p">(</span><span class="s2">&quot;play Michael Jackson - Beat It&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="c1">#=&gt; nil </span>
</span><span class='line'>
</span><span class='line'><span class="n">process</span><span class="p">(</span><span class="s2">&quot;list&quot;</span><span class="p">)</span>
</span><span class='line'> <span class="c1">#=&gt; nil</span>
</span></code></pre></td></tr></table></div></figure>


<p>When using splat to distribute the values to the arguments, the count must match exactly.  Also, only a splat in front of an empty <code>Array</code>, <code>Hash</code> or <code>nil</code> will yield no value to argument assignment.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">def</span> <span class="nf">zero</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;Nothing&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">one</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">two</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">three</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">a</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">b</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">c</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">values</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">zero</span><span class="p">(</span><span class="o">*</span><span class="n">values</span><span class="p">)</span>  <span class="c1"># Error</span>
</span><span class='line'><span class="n">one</span><span class="p">(</span><span class="o">*</span><span class="n">values</span><span class="p">)</span>   <span class="c1"># Error</span>
</span><span class='line'><span class="n">two</span><span class="p">(</span><span class="o">*</span><span class="n">values</span><span class="p">)</span>   <span class="c1"># Success</span>
</span><span class='line'><span class="n">three</span><span class="p">(</span><span class="o">*</span><span class="n">values</span><span class="p">)</span> <span class="c1"># Error</span>
</span><span class='line'>
</span><span class='line'><span class="n">zero</span><span class="p">(</span><span class="o">*[]</span><span class="p">)</span>      <span class="c1"># Success</span>
</span><span class='line'><span class="n">zero</span><span class="p">(</span><span class="o">*</span><span class="p">{})</span>      <span class="c1"># Success</span>
</span><span class='line'><span class="n">zero</span><span class="p">(</span><span class="o">*</span><span class="kp">nil</span><span class="p">)</span>     <span class="c1"># Success</span>
</span></code></pre></td></tr></table></div></figure>




		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-08T22:12:00-04:00" pubdate data-updated="true">Oct 8<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/07/enumerables-best-kept-secrets/">
		
			Enumerable&#8217;s Best Kept Secrets</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>An <code>Enumerator</code> is defined as a &ldquo;class which allows both internal and external iteration.&rdquo; It represent a series of objects, it can be lazily generated and it can be infinite. In contrast, the an <code>Enumerable</code> is a module and it &ldquo;provides collection classes with several traversal and searching methods, and with the ability to sort.&rdquo;</p></blockquote>

<br/>


<p>In Ruby, enumerators are used quite frequently for their extensive abstraction of iteration functionality. When we call the <code>Array#each</code> method, we can focus on dealing with the individual <code>Array</code> items rather than having to worry about how to retrieve each item one by one. When we need to find a subset of items from a <code>Hash</code>, we can use <code>#select</code> with a code block to decide which item we want in the result, without necessarily knowing how the <code>Hash</code> is traversed.</p>

<br/>


<p>All this power comes from the <code>Enumerable</code> module, and it is inlucded by many of the common Object types such as <code>Array</code>, <code>Hash</code>, <code>Range</code>, and <code>Set</code>. When first learning Ruby, <code>#each</code> and <code>#collect</code> quickly become an often-used tool we use for iterating over data. Most functionality can be accomplished by their use, however, there are many more advanced iterators available with very specific funtionality, but unless we constantly skim over the Ruby documentation, we may not know about them. I&rsquo;d like to introduce (or re-introduce for some of you) some of my favorites.</p>

<br/>


<h2>#count</h2>

<p>Alright, alright. You may use <code>#count</code> on a daily basis, but did you know that you can specify a parameter to the method call? It will return the number of occurrances of that particular value.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">fruit</span> <span class="o">=</span> <span class="sx">%w(apple orange banana apple kiwi grapes apple)</span>
</span><span class='line'>
</span><span class='line'><span class="n">fruit</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;apple&quot;</span><span class="p">)</span> <span class="c1">#=&gt; 3</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you though that was cool, then hold on to your pants. When you add a block that evaluates a condition for each item in the collection, you can add logic regarding which items you want to count. If the block return <code>true</code> the item gets counted.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">fruit</span> <span class="o">=</span> <span class="sx">%w(apple orange banana apple kiwi grapes apple)</span>
</span><span class='line'><span class="n">fruit</span><span class="o">.</span><span class="n">count</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="sx">%w(banana kiwi)</span><span class="o">.</span><span class="n">include?</span> <span class="n">item</span> <span class="p">}</span> <span class="c1">#=&gt; 2</span>
</span></code></pre></td></tr></table></div></figure>




<br/>


<h2>#lazy</h2>

<p>We all like to be lazy sometimes. Starting in Ruby 2.0, we can now let <code>Enumerable</code> objects be lazy too. All this means is that the result of the enumerable function will not get evaluated until you tell it to.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">car_names</span> <span class="o">=</span> <span class="sx">%w(audi chevrolet dodge)</span>
</span><span class='line'>
</span><span class='line'><span class="n">capitalized_car_names</span> <span class="o">=</span> <span class="n">car_names</span><span class="o">.</span><span class="n">lazy</span><span class="o">.</span><span class="n">map</span> <span class="o">&amp;</span><span class="ss">:capitalize</span>
</span><span class='line'> <span class="o">=&gt;</span> <span class="c1">#&lt;Enumerator::Lazy: #&lt;Enumerator::Lazy: [&quot;audi&quot;, &quot;chevrolet&quot;, &quot;dodge&quot;]&gt;:map&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="n">capitalized_car_names</span><span class="o">.</span><span class="n">to_a</span>
</span><span class='line'> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;Audi&quot;</span><span class="p">,</span> <span class="s2">&quot;Chevrolet&quot;</span><span class="p">,</span> <span class="s2">&quot;Dodge&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>The behavior in this example doesn&rsquo;t really show the full potential of <code>#lazy</code>. Imagine that you have an operation that you want to apply to a collection, however, the contents of the given collection are dynamically changing. Using <code>#lazy</code> keeps the enumerator updated with the latest state of the collection.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">car_names</span> <span class="o">&lt;&lt;</span> <span class="s1">&#39;volkswagen&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">capitalized_car_names</span>
</span><span class='line'> <span class="o">=&gt;</span> <span class="c1">#&lt;Enumerator::Lazy: #&lt;Enumerator::Lazy: [&quot;audi&quot;, &quot;chevrolet&quot;, &quot;dodge&quot;, &quot;volkswagen&quot;]&gt;:map&gt; </span>
</span><span class='line'>
</span><span class='line'><span class="n">capitalized_car_names</span><span class="o">.</span><span class="n">to_a</span>
</span><span class='line'> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;Audi&quot;</span><span class="p">,</span> <span class="s2">&quot;Chevrolet&quot;</span><span class="p">,</span> <span class="s2">&quot;Dodge&quot;</span><span class="p">,</span> <span class="s2">&quot;Volkswagen&quot;</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="n">car_names</span><span class="o">.</span><span class="n">shift</span>
</span><span class='line'> <span class="o">=&gt;</span> <span class="s2">&quot;audi&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">capitalized_car_names</span><span class="o">.</span><span class="n">to_a</span>
</span><span class='line'> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;Chevrolet&quot;</span><span class="p">,</span> <span class="s2">&quot;Dodge&quot;</span><span class="p">,</span> <span class="s2">&quot;Volkswagen&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-07T18:41:00-04:00" pubdate data-updated="true">Oct 7<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/07/nag-a-ram/">
		
			Nag a Ram</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>An anagram is a type of word play, the result of rearranging the letters of a word or phrase to produce a new word or phrase, using all the original letters exactly once; for example orchestra can be rearranged into carthorse. Someone who creates anagrams may be called an &ldquo;anagrammatist&rdquo;. <em>Source: <a href="http://en.wikipedia.org/wiki/Anagram">Wikipedia</a></em></p></blockquote>

<br/>


<p>The core of a recent code challange included finding out whether one string is an anagram of another. Now this task can be accomplished with a couple of iterators and character comparison, but such an answer would yield code that is too complex looking for what I needs to accomplish and it may be difficult to read.</p>

<p>Rather than picking each letter from the first string and finding it in the second, I wanted to compare the two strings in a single step. First, the strings both need to be sorted and in order to do this, they first had to be converted to an array of single letters. With a little <code>String#split</code> and <code>Array#sort</code> magic the resulting arrays can easily be compared.</p>

<br/>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Anagram</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@word</span> <span class="o">=</span> <span class="n">word</span>
</span><span class='line'>    <span class="vi">@word_match_string</span> <span class="o">=</span> <span class="n">generate_match_string</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
</span><span class='line'>    <span class="n">words</span><span class="o">.</span><span class="n">select</span> <span class="k">do</span> <span class="o">|</span><span class="n">potential_anagram</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@word_match_string</span> <span class="o">==</span> <span class="n">generate_match_string</span><span class="p">(</span><span class="n">potential_anagram</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="kp">private</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">generate_match_string</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</span><span class='line'>    <span class="n">word</span><span class="o">.</span><span class="n">downcase</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sort</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-07T12:05:00-04:00" pubdate data-updated="true">Oct 7<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/09/24/hello-world/">
		
			Hello World</a>
	</h2>
	<div class="entry-content">
		<p>This is my first post!</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-09-24T16:56:00-04:00" pubdate data-updated="true">Sep 24<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>


</div>
	
</div>
</article>

<nav id="pagenavi">
    
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Manuel Neuhauser

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->




	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-44751707-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>